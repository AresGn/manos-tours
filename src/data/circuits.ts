// Donn√©es des circuits Manos Tours
// Bas√© sur guide_circuits_manos.md

import { Circuit, CircuitCategory, CalculPrixParams, CalculPrixResult } from '@/types/circuits';

// M√©tadonn√©es des cat√©gories
export const categoriesMetadata = {
  'nature-biodiversite': {
    nom: 'Nature & Biodiversit√©',
    description: 'Explorez la richesse naturelle de Grand-Popo',
    icon: 'üåø',
    color: 'from-green-600 to-emerald-600'
  },
  'culture-spiritualite': {
    nom: 'Culture & Spiritualit√©',
    description: 'D√©couvrez les traditions Vodoun et spirituelles',
    icon: 'üé≠',
    color: 'from-purple-600 to-indigo-600'
  },
  'artisanat-traditions': {
    nom: 'Artisanat & Traditions',
    description: 'Apprenez les savoir-faire ancestraux',
    icon: 'üé®',
    color: 'from-orange-600 to-red-600'
  },
  'histoire-patrimoine': {
    nom: 'Histoire & Patrimoine',
    description: 'Voyagez √† travers les √©poques',
    icon: 'üèõÔ∏è',
    color: 'from-blue-600 to-cyan-600'
  }
} as const;

export const circuits: Circuit[] = [
  {
    id: 'biodiversite',
    nom: 'Circuit Biodiversit√©',
    slug: 'circuit-biodiversite',
    description: 'Explorez la nature luxuriante de Grand-Popo entre mangrove, tortues et oiseaux migrateurs',
    descriptionLongue: 'Plongez au c≈ìur de la biodiversit√© exceptionnelle de Grand-Popo lors de cette aventure aquatique unique. D√©couvrez l\'√©cosyst√®me fragile de la mangrove, observez les tortues marines dans leur habitat naturel, et assistez aux techniques ancestrales de production de sel artisanal. Cette exp√©rience vous connecte intimement avec la nature pr√©serv√©e du littoral b√©ninois.',
    duree: '2h30 √† 3h',
    dureeType: 'moyenne',
    activites: [
      'Visite de l\'√©closerie de tortues marines',
      'Exploration de la mangrove avec ses pal√©tuviers',
      'D√©couverte de l\'√Æle de production de sel artisanal',
      'Visite de l\'embouchure du fleuve Roy'
    ],
    tarifs: [
      { type: 'bateau', prix: 35000, description: 'Bateau motoris√© obligatoire' },
      { type: 'enfant', prix: 5000, condition: '‚â• 7 ans' },
      { type: 'adulte', prix: 10000 }
    ],
    categories: ['nature-biodiversite'],
    difficulte: 'Facile',
    highlights: [
      'Observation des tortues marines',
      '√âcosyst√®me unique de mangrove',
      'Techniques traditionnelles de production de sel',
      'Biodiversit√© exceptionnelle'
    ],
    included: [
      'Guide expert local',
      'Transport en bateau motoris√©',
      '√âquipement de s√©curit√©',
      'Explications d√©taill√©es de l\'√©cosyst√®me'
    ],
    images: ['https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200',
    bateauRequis: true,
    ageMinimum: 7,
    pointDepart: 'Embarcad√®re de Grand-Popo',
    saisonOptimale: ['Novembre', 'D√©cembre', 'Janvier', 'F√©vrier', 'Mars'],
    equipementRecommande: ['Chapeau', 'Cr√®me solaire', 'Appareil photo √©tanche']
  },
  {
    id: 'socio-economique',
    nom: 'Circuit Activit√© Socio-√âconomique',
    slug: 'circuit-socio-economique',
    description: 'D√©couvrez les gestes ancestraux des artisans, de la fabrication du caramel √† l\'extraction d\'huile de coco',
    descriptionLongue: 'Immergez-vous dans l\'√©conomie traditionnelle de Grand-Popo en participant aux activit√©s artisanales s√©culaires. Apprenez les secrets de la fabrication du caramel traditionnel, ma√Ætrisez les techniques d\'extraction d\'huile de coco, et d√©couvrez l\'art du tissage de nattes en jonc. Cette exp√©rience authentique vous connecte aux savoir-faire transmis de g√©n√©ration en g√©n√©ration.',
    duree: '4h',
    dureeType: 'longue',
    activites: [
      'Atelier de fabrication traditionnelle de caramel avec d√©monstration et d√©gustation',
      'Techniques ancestrales d\'extraction d\'huile de coco',
      'Apprentissage du tissage de natte en jonc',
      'Pause d√©jeuner traditionnel'
    ],
    tarifs: [
      { type: 'bateau', prix: 35000, description: 'Transport en bateau motoris√©' },
      { type: 'enfant', prix: 6000, condition: '‚â• 7 ans' },
      { type: 'adulte', prix: 12500 }
    ],
    categories: ['artisanat-traditions'],
    difficulte: 'Facile',
    highlights: [
      'Fabrication de caramel traditionnel',
      'Extraction d\'huile de coco ancestrale',
      'Tissage de nattes en jonc',
      'D√©jeuner traditionnel inclus'
    ],
    included: [
      'Guide artisan expert',
      'Mat√©riaux pour les ateliers',
      'D√©gustation de caramel',
      'D√©jeuner traditionnel',
      'Transport en bateau'
    ],
    images: ['https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1200',
    bateauRequis: true,
    ageMinimum: 7,
    pointDepart: 'Village artisanal de Grand-Popo',
    equipementRecommande: ['V√™tements confortables', 'Appareil photo']
  },
  {
    id: 'fromage-peulh',
    nom: 'Route du Fromage Peulh / Immersion Pastorale',
    slug: 'route-fromage-peulh',
    description: 'Vivez l\'authenticit√© pastorale en participant √† la traite et √† la fabrication traditionnelle du fromage',
    descriptionLongue: 'D√©couvrez l\'art pastoral des communaut√©s Peulh dans une exp√©rience immersive unique. Participez √† la traite manuelle des vaches, apprenez les techniques traditionnelles de coagulation du lait avec le Calotropis procera, et assistez au processus d\'√©gouttage dans des paniers artisanaux. Cette aventure authentique se termine par une d√©gustation de fromage frais.',
    duree: '2h √† 2h30',
    dureeType: 'moyenne',
    activites: [
      'Visite de l\'√©table √† vaches traditionnelle',
      'Participation √† la traite manuelle',
      'Filtration et coagulation du lait avec Calotropis procera',
      'Observation de l\'√©gouttage avec paniers artisanaux',
      'D√©gustation de fromage frais'
    ],
    tarifs: [
      { type: 'enfant', prix: 5000, condition: '‚â• 7 ans' },
      { type: 'adulte', prix: 10000 }
    ],
    categories: ['artisanat-traditions'],
    difficulte: 'Facile',
    highlights: [
      'Traite manuelle authentique',
      'Techniques traditionnelles Peulh',
      'Fabrication de fromage artisanal',
      'D√©gustation de produits frais'
    ],
    included: [
      'Guide pastoral expert',
      'Participation aux activit√©s',
      'D√©gustation de fromage',
      'Explications culturelles'
    ],
    images: ['https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800', 'https://images.unsplash.com/photo-1574323347407-f5e1ad6d020b?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1200',
    bateauRequis: false,
    ageMinimum: 7,
    pointDepart: 'Campement pastoral',
    equipementRecommande: ['Chaussures ferm√©es', 'V√™tements pratiques']
  },
  {
    id: 'zangbeto-live',
    nom: 'Zangbeto Live / Voyage au C≈ìur du Vodoun',
    slug: 'zangbeto-live',
    description: 'Plongez dans le myst√®re et l\'√©nergie du Vodoun √† travers les danses et percussions du Zangbeto',
    descriptionLongue: 'Entrez dans l\'univers mystique du Vodoun lors de cette exp√©rience spirituelle intense. D√©couvrez le r√¥le sacr√© du Zangbeto dans la soci√©t√© africaine traditionnelle, assistez √† des danses rituelles spectaculaires avec rotations hypnotiques, et laissez-vous emporter par l\'ambiance musicale envo√ªtante des percussions ancestrales.',
    duree: '1h30',
    dureeType: 'courte',
    activites: [
      'Introduction approfondie √† la culture Vodoun',
      'Clarification sur le r√¥le du Zangbeto dans la soci√©t√©',
      'Prestations de danses rituelles spectaculaires',
      'Rotations mystiques et d√©monstrations',
      'Ambiance musicale avec percussions traditionnelles'
    ],
    tarifs: [
      { type: 'groupe', prix: 70000, condition: '1 √† 6 personnes', description: 'Prix unique pour le groupe' }
    ],
    groupeMin: 1,
    groupeMax: 6,
    categories: ['culture-spiritualite'],
    difficulte: 'Facile',
    highlights: [
      'Exp√©rience spirituelle authentique',
      'Danses rituelles du Zangbeto',
      'Percussions traditionnelles',
      'Immersion culturelle profonde'
    ],
    included: [
      'Guide spirituel expert',
      'C√©r√©monie compl√®te',
      'Explications culturelles',
      'Ambiance musicale'
    ],
    images: ['https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1200',
    bateauRequis: false,
    pointDepart: 'Temple Vodoun de Grand-Popo',
    recommandations: [
      'Respect des traditions spirituelles',
      'Tenue vestimentaire appropri√©e',
      'Ouverture d\'esprit recommand√©e'
    ]
  },
  {
    id: 'balade-epoques',
    nom: 'Circuit Balade √† Travers les √âpoques √† Grand-Popo',
    slug: 'balade-epoques',
    description: 'Explorez le pass√© colonial et vernaculaire de Grand-Popo en d√©couvrant ses monuments et lieux de vie d\'hier √† aujourd\'hui',
    descriptionLongue: 'Voyagez dans le temps √† travers les rues de Grand-Popo et d√©couvrez les traces de son riche pass√© colonial. Explorez le pont m√©tallique historique, plongez dans l\'ambiance authentique du march√© du samedi, et visitez la zone administrative coloniale d\'Apoutagbo. Cette balade historique r√©v√®le les strates temporelles de cette ville fascinante.',
    duree: '3h',
    dureeType: 'moyenne',
    activites: [
      'Visite du pont m√©tallique colonial historique',
      'Exploration du march√© du samedi traditionnel',
      'D√©couverte de la zone administrative coloniale d\'Apoutagbo (Gbecon)',
      'R√©cits historiques et anecdotes locales'
    ],
    tarifs: [
      { type: 'enfant', prix: 5000, condition: '‚â• 7 ans' },
      { type: 'adulte', prix: 10000 }
    ],
    categories: ['histoire-patrimoine'],
    difficulte: 'Facile',
    highlights: [
      'Architecture coloniale pr√©serv√©e',
      'March√© traditionnel authentique',
      'Histoire vivante de Grand-Popo',
      'Patrimoine architectural unique'
    ],
    included: [
      'Guide historien local',
      'Acc√®s aux sites historiques',
      'R√©cits et anecdotes',
      'Documentation historique'
    ],
    images: ['https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800', 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=1200',
    bateauRequis: false,
    ageMinimum: 7,
    pointDepart: 'Centre historique de Grand-Popo',
    equipementRecommande: ['Chaussures de marche', 'Appareil photo', 'Carnet de notes']
  },
  {
    id: 'peche-traditionnelle',
    nom: 'Circuit au C≈ìur de la P√™che Traditionnelle',
    slug: 'peche-traditionnelle',
    description: 'Vivez une exp√©rience authentique aux c√¥t√©s des p√™cheurs de Grand-Popo et apprenez leurs m√©thodes ancestrales',
    descriptionLongue: 'Rejoignez les p√™cheurs locaux dans leur quotidien et ma√Ætrisez les techniques de p√™che traditionnelles transmises depuis des g√©n√©rations. Apprenez la p√™che √† la Seine, manipulez les filets Magnan, d√©couvrez l\'usage des nasses et casiers, et perfectionnez-vous √† la canne √† p√™che. Cette aventure aquatique se termine par une pause rafra√Æchissante avec d√©gustation de noix de coco.',
    duree: '1h30 √† 2h',
    dureeType: 'courte',
    activites: [
      'Apprentissage de la p√™che √† la Seine',
      'Manipulation des filets Magnan traditionnels',
      'Utilisation des nasses et casiers artisanaux',
      'Pratique de la p√™che √† la canne',
      'Pause d√©gustation de noix de coco fra√Æche'
    ],
    tarifs: [
      { type: 'unique', prix: 12500, condition: '‚â• 5 personnes', description: 'Prix par personne pour groupe minimum 5' }
    ],
    groupeMin: 5,
    categories: ['nature-biodiversite'],
    difficulte: 'Mod√©r√©',
    highlights: [
      'Techniques de p√™che ancestrales',
      'Immersion avec p√™cheurs locaux',
      'Apprentissage pratique',
      'D√©gustation de noix de coco'
    ],
    included: [
      'Guide p√™cheur expert',
      '√âquipement de p√™che traditionnel',
      'Noix de coco fra√Æche',
      'Techniques pratiques'
    ],
    images: ['https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=1200',
    bateauRequis: false,
    pointDepart: 'Plage des p√™cheurs de Grand-Popo',
    equipementRecommande: ['V√™tements pouvant √™tre mouill√©s', 'Chaussures d\'eau', 'Serviette']
  },
  {
    id: 'vodoun-traditions',
    nom: 'Circuit Vodoun et Traditions Ancestrales',
    slug: 'vodoun-traditions',
    description: 'Approfondissez votre compr√©hension de la spiritualit√© locale et participez √† des rites respectueux des croyances',
    descriptionLongue: 'Plongez dans la richesse spirituelle du Vodoun lors de cette exp√©rience culturelle profonde. D√©couvrez les myst√®res du F√¢ (g√©omancie), comprenez le panth√©on des divinit√©s, et participez respectueusement √† l\'initiation au culte des anc√™tres √† travers libations, pri√®res et offrandes traditionnelles.',
    duree: '2h30 √† 3h',
    dureeType: 'moyenne',
    activites: [
      'Clarification approfondie sur la spiritualit√© Vodoun',
      'Introduction au F√¢ (g√©omancie traditionnelle)',
      'D√©couverte du panth√©on des divinit√©s',
      'Initiation respectueuse au culte des anc√™tres',
      'Participation aux libations, pri√®res et offrandes'
    ],
    tarifs: [
      { type: 'adulte', prix: 12500, condition: '1-4 personnes' },
      { type: 'enfant', prix: 6250, condition: '‚â• 7 ans', description: 'Demi-tarif' },
      { type: 'adulte', prix: 8000, condition: '‚â• 5 personnes' }
    ],
    categories: ['culture-spiritualite'],
    difficulte: 'Mod√©r√©',
    highlights: [
      'Spiritualit√© Vodoun authentique',
      'G√©omancie traditionnelle (F√¢)',
      'Culte des anc√™tres',
      'Rites respectueux et √©ducatifs'
    ],
    included: [
      'Guide spirituel certifi√©',
      'Mat√©riel pour les rites',
      'Explications culturelles approfondies',
      'Respect des traditions'
    ],
    images: ['https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1200',
    bateauRequis: false,
    ageMinimum: 7,
    pointDepart: 'Temple Vodoun traditionnel',
    recommandations: [
      'Respect absolu des traditions',
      'Tenue vestimentaire appropri√©e',
      'Ouverture d\'esprit essentielle'
    ]
  },
  {
    id: 'guerrier-sacre',
    nom: 'Circuit la Danse du Guerrier Sacr√©',
    slug: 'danse-guerrier-sacre',
    description: 'D√©couvrez l\'intensit√© et la puissance de la divinit√© Kokou √† travers ses adeptes et leurs objets rituels',
    descriptionLongue: 'Assistez √† une d√©monstration spirituelle intense d√©di√©e √† Kokou, divinit√© guerri√®re du panth√©on Vodoun. Observez la puissance des adeptes en transe, d√©couvrez les objets rituels sacr√©s, et ressentez l\'√©nergie protectrice de cette divinit√© √† travers des d√©monstrations de protection spirituelle authentiques.',
    duree: '1h30 √† 2h',
    dureeType: 'courte',
    activites: [
      'Explication d√©taill√©e de la divinit√© Kokou',
      'Observation des danses des adeptes en transe',
      'D√©couverte des objets rituels sacr√©s',
      'D√©monstration de protection spirituelle',
      'Utilisation rituelle d\'objets traditionnels'
    ],
    tarifs: [
      { type: 'groupe', prix: 80000, condition: '1-10 personnes', description: 'Prix unique pour le groupe' }
    ],
    groupeMin: 1,
    groupeMax: 10,
    categories: ['culture-spiritualite'],
    difficulte: 'Difficile',
    highlights: [
      'Divinit√© guerri√®re Kokou',
      'Transes spirituelles authentiques',
      'Objets rituels sacr√©s',
      'Protection spirituelle'
    ],
    included: [
      'Guide spirituel expert',
      'C√©r√©monie compl√®te',
      'D√©monstrations rituelles',
      'Explications approfondies'
    ],
    images: ['https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800', 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800'],
    imageHero: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=1200',
    bateauRequis: false,
    pointDepart: 'Temple de Kokou',
    recommandations: [
      'Exp√©rience spirituelle intense',
      'Respect absolu requis',
      'Sensibilit√© spirituelle recommand√©e',
      'Non recommand√© aux personnes sensibles'
    ]
  }
];

// Fonction utilitaire pour calculer le prix d'un circuit
export function calculerPrixCircuit({ circuit, nombreAdultes, nombreEnfants }: CalculPrixParams): CalculPrixResult {
  let prixAdultes = 0;
  let prixEnfants = 0;
  let prixBateau = 0;
  let prixGroupe = 0;
  let montantTotal = 0;
  const detailsCalcul: string[] = [];

  // Cas sp√©ciaux avec tarif groupe unique
  const tarifGroupe = circuit.tarifs.find(t => t.type === 'groupe');
  if (tarifGroupe) {
    prixGroupe = tarifGroupe.prix;
    montantTotal = prixGroupe;
    detailsCalcul.push(`Tarif groupe: ${prixGroupe.toLocaleString()} F CFA`);
    return { prixAdultes, prixEnfants, prixBateau, prixGroupe, montantTotal, detailsCalcul };
  }

  // Calcul standard adultes/enfants
  const tarifAdulte = circuit.tarifs.find(t => t.type === 'adulte');
  const tarifEnfant = circuit.tarifs.find(t => t.type === 'enfant');
  const tarifBateau = circuit.tarifs.find(t => t.type === 'bateau');

  if (tarifAdulte) {
    prixAdultes = nombreAdultes * tarifAdulte.prix;
    montantTotal += prixAdultes;
    if (nombreAdultes > 0) {
      detailsCalcul.push(`${nombreAdultes} adulte(s) √ó ${tarifAdulte.prix.toLocaleString()} = ${prixAdultes.toLocaleString()} F CFA`);
    }
  }

  if (tarifEnfant && nombreEnfants > 0) {
    prixEnfants = nombreEnfants * tarifEnfant.prix;
    montantTotal += prixEnfants;
    detailsCalcul.push(`${nombreEnfants} enfant(s) √ó ${tarifEnfant.prix.toLocaleString()} = ${prixEnfants.toLocaleString()} F CFA`);
  }

  if (tarifBateau && circuit.bateauRequis) {
    prixBateau = tarifBateau.prix;
    montantTotal += prixBateau;
    detailsCalcul.push(`Bateau motoris√©: ${prixBateau.toLocaleString()} F CFA`);
  }

  return { prixAdultes, prixEnfants, prixBateau, prixGroupe, montantTotal, detailsCalcul };
}

// Fonction pour obtenir les circuits par cat√©gorie
export function getCircuitsByCategory(category: CircuitCategory): Circuit[] {
  return circuits.filter(circuit => circuit.categories.includes(category));
}

// Fonction pour obtenir un circuit par son slug
export function getCircuitBySlug(slug: string): Circuit | undefined {
  return circuits.find(circuit => circuit.slug === slug);
}

// Fonction pour obtenir un circuit par son ID
export function getCircuitById(id: string): Circuit | undefined {
  return circuits.find(circuit => circuit.id === id);
}
